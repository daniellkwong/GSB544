---
title: "Regression Dashboard"
format:
  dashboard:
    theme: yeti
embed-resources: true
execute:
  echo: false
  warning: false
  error: false
  inline: true
---

```{python}
import pandas as pd
import plotly.express as px

# load your submission file

pred = pd.read_csv("submission_regression2.csv")  # contains PID + SalePrice

rmse = 0.15686
n_houses = len(pred)

summary = pred["SalePrice"].describe()
min_p = summary["min"]
median_p = summary["50%"]
mean_p = summary["mean"]
max_p = summary["max"]
```

## Row
```{python}
from IPython.display import Markdown
Markdown(f"**Ames Housing Predictions** â€” ({n_houses} homes predicted)")
```

## Row
```{python}
#| content: valuebox
#| title: "Model"
dict(
icon = "tree",
color = "secondary",
value = "Random Forest"
)
```

```{python}
#| content: valuebox
#| title: "Test RMSE"
dict(
icon = "bar-chart",
color = "primary",
value = f"{rmse:.5f}"
)
```

```{python}
#| content: valuebox
#| title: "Houses Predicted"
dict(
icon = "house",
color = "light",
value = n_houses
)
```

## Row
### Column {width=75%}

```{python}
#| title: Predicted Price Distribution
#| padding: 0
fig = px.histogram(
pred,
x="SalePrice",
nbins=40,
title="Distribution of Predicted Sale Prices"
)
fig
```

### Column {width=25%}

```{python}
# summary stats

sum_table = pd.DataFrame({
"Statistic": ["Min", "Median", "Mean", "Max"],
"Value": [min_p, median_p, mean_p, max_p]
})
sum_table
```

```{python}
min_p = float(pred['SalePrice'].min())
median_p = float(pred['SalePrice'].median())
mean_p = float(pred['SalePrice'].mean())
max_p = float(pred['SalePrice'].max())
```

## Row

### Column {width=50%}
```{python}
import plotly.express as px
import pandas as pd

# Top 5 real feature importances
fi = pd.DataFrame({
    "Feature": [
        "Overall Qual",
        "Gr Liv Area",
        "Lot Area",
        "Year Built",
        "Lot Frontage"
    ],
    "Importance": [
        0.659639,
        0.158379,
        0.042672,
        0.037579,
        0.016954
    ]
})

fig_fi = px.bar(
    fi,
    x="Importance",
    y="Feature",
    orientation="h",
    title="Most Important Predictors of Sale Price (Random Forest)",
    labels={"Importance": "Feature Importance", "Feature": "Feature"}
)

fig_fi
```

### Column {width=25%}
::: {.card}

### Price Quartiles

| Statistic | Value |
|----------|--------|
| Q1 (25th %) | 124312.09 |
| Median     | 154575.55 |
| Q3 (75th %) | 210202.93 |

:::

### Column {width=25%}
::: {.card}

### Model Details

- n_estimators: 400  
- max_depth: None  
- min_samples_leaf: 1  
- min_samples_split: 2  

:::
